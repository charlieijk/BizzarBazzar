{% extends 'base.html' %}

{% block title %}Recommendations{% endblock %}

{% block main_content %}
<div class="container mt-5">
    <h1>Recommendations for You</h1>
    <p>Check out these unique finds we think you'll love!</p>

    <form action="" method="post" class="mt-4">
        {{ form.hidden_tag() }}
        <div class="form-group">
            <label for="{{ form.criteria.id }}">{{ form.criteria.label }}</label>
            {{ form.criteria(class="form-control") }}
        </div>
        <div class="form-group">
            <label for="{{ form.interest_level.id }}">{{ form.interest_level.label }}</label>
            {% for subfield in form.interest_level %}
                <div class="form-check">
                    {{ subfield(class="form-check-input") }}
                    <label class="form-check-label" for="{{ subfield.id }}">{{ subfield.label }}</label>
                </div>
            {% endfor %}
        </div>
        <div class="form-group">
            <label for="{{ form.product_preference.id }}">{{ form.product_preference.label }}</label>
            {{ form.product_preference(class="form-control") }}
        </div>
        <div class="form-group">
            <label for="{{ form.comments.id }}">{{ form.comments.label }}</label>
            {{ form.comments(class="form-control", rows=4) }}
        </div>
        <div class="recommendation-list">
            {{ form.recommend(class="btn btn-primary") }}
        </div>
        {% if form_submitted %}
        <h2 id="thankYouMessage">Thanks for giving me your recommendations. We will get back to you.</h2>
        {% endif %}
    </form>

    <ul class="recommendation-list">
        {% for recommendation in recommendation_list %}
        <li>{{ recommendation }}</li>
        {% endfor %}
    </ul>

    <h2 class="mt-5">Past Products</h2>
    <div class="form-group">
    </div>
    <table class="table">
        <thead>
            <tr>
                <th>Title</th>
                <th>Reward/Pledge</th>
                <th>Description</th>
                <th>Objectives</th>
                <th>Category</th>
                <th>Trait</th>
                <th>Characteristics</th>
            </tr>
        </thead>
        <tbody>
            {% for product in past_products %}
            <tr>
                <td>{{ product["title"] }}</td>
                <td>{{ product["reward_pledge_amount"] }}</td>
                <td>{{ product["description"] }}</td>
                <td>{{ product["objectives"] }}</td>
                <td>{{ product["category"] }}</td>
                <td>{{ product["trait"] }}</td>
                <td>{{ product["characteristics"] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
